title: 发版计划10.17 
date: 2023-10-31 15:54:11 
tags: []
categories: [发版]
password: 7FKBKZrTTTPG2LnC

---
 <!--more-->
# 发版内容

1. 更新项目团队模块
   1. 涉及项目管理与项目大屏
2. 更新盾构数据采集
   1. 涉及项目管理-系统管理-施工风险数据对接
   2. 施工风险预警大屏

3. 施工风险预警大屏优化
   1. 优化了数据点加载策略，从而实现图标轴上的数据吸附更精确。

# 发版步骤 

1. 完成测试项，评估能否发版
2. 暂停代码提交
3. 数据库备份
4. 打包镜像发到远程
5. 同步数据库变更信息
6. 发版
7. 回归测试
8. 验证通过

## 数据库更新

先备份一下mysql的main 库与auth-center 库

1. mysql更新
   1. 执行文件sxsddsj_team_shield.sql中的sql
2. clickhouse sql执行
   1. 由王奎清来执行
3. kafka topic创建
   1. 按文档中说明，创建相关topic

## 服务更新 

| 更新项目                             | 更新版本号 |      |
| ------------------------------------ | ---------- | ---- |
| sxsddsj-auth-center                  | 默认最新   |      |
| sxsddsj-main                         | 默认最新   |      |
| sxsddsj-data-center-clickhouse       | 默认最新   |      |
| sxsddsj-shield-online-data-collector | 默认最新   |      |
| sxsddsj-shield-data-main             | 默认最新   |      |
| sxsddsj-open-platform                | 默认最新   |      |
| sxsddsj-api-gateway                  | 默认最新   |      |
| web                                  | 默认最新   |      |
| bigscreen                            | 默认最新   |      |

